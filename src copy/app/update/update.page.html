<ion-header>
    <ion-toolbar color="primary" mode="ios">
        <ion-buttons slot="start">
            <ion-back-button defaultHref='/cat'>back</ion-back-button>
          </ion-buttons>
          <ion-buttons slot="end">
              <ion-button (click)="menuClicked()" >
                    <ion-icon slot="icon-only" name="menu-outline">
                </ion-icon>
              </ion-button>
              </ion-buttons>
      <ion-title routerLink='/'>Twiick</ion-title>
    </ion-toolbar>
  </ion-header>

  <app-menu></app-menu>




  <ion-content  [scrollEvents]="true"  >

    <ion-button (click) = changeLang()>english</ion-button>
    <ion-button (click) = addProduct()>add product</ion-button><br>
    <ion-label>Free delivery below 5</ion-label>
    <ion-checkbox color="dark" [(ngModel)]="freeDeliveryBelow5"></ion-checkbox><br>
    <ion-button (click) = changeDeliveryOption()>change Delivery Option</ion-button>






            <div class="fixed">

          <ion-segment   id ="catIonSegment" scrollable [value]="catId" class="catSeg">
            <div [id]="['button' + catagory]" *ngFor="let catagory of catagories">
                <ion-segment-button class="catagoryButton" value={{catagory}} (click)=changeCatagory(catagory)>
                    {{catagory}}
              </ion-segment-button>
            </div>

          </ion-segment>




          <ion-segment  id ="subCatIonSegment" scrollable [value]="sub"  (ionChange)="onSegmentChangeSubCatagagory($event)" >

              <div *ngFor="let cat of subcatagory">
                  <div *ngIf="cat.catagory==catId">
                      <!-- <a  class="hyperlink" [attr.href]="'/cat/'+ catIdForAnchorUseOnly + '#' + cat.subcatagory"> -->
                      <div [id]="['button' + cat.subcatagory]">
                          <ion-segment-button  value={{cat.subcatagory}} indicator= "none" class="subcatButton" (click)= "toTop(cat.subcatagory)" >
                              <!-- <ion-col size="3" size-md="2" offset=""></ion-col> -->

                                   {{cat.subcatagory}}

                         </ion-segment-button>
                      </div>

                    <!-- </a> -->




                    </div  >
              </div>
            </ion-segment>


          </div>










      <div class="items" style="margin-bottom: 58px;"  >


              <div *ngFor="let cat of subcatagory;let index1=index"  >
              <div [id]=[cat.subcatagory] >
                <ion-row *ngIf="cat.catagory==catId">
                    <!-- <div class="emptyspace">lool</div> -->
                    <div [id]="['anchor' + cat.subcatagory]" style="width:100%; position: relative; top: -130px;
                    height: 5px;"></div>

                    <ion-col size="8" offset="2">
                        <div class="subcatagoryTitle">
                        {{cat.subcatagory}}
                        </div>
                    </ion-col>
                  </ion-row>
                </div>

                <app-count-down-timer [dDayText]="cat.product[0].discount" *ngIf="cat.catagory == 'عروض'"></app-count-down-timer>

                  <ion-row *ngIf="cat.catagory==catId">

                  <ion-col size="4" size-md="3" *ngFor="let product of cat.product;let index = index;" >
                      <ion-card>
                          <img  *ngIf="!langugue" src="../../assets/images/productImages/{{product.name}}.jpg" alt="ion"/>
                          <img src="../../assets/images/productImages/newImages/{{product.picture}}" alt="ion"/>

                          <ion-card-header>
                            <div class="productText">
                              <ion-card-subtitle *ngIf="!langugue"> {{product.name}}</ion-card-subtitle>
                              <ion-card-subtitle style="text-align: right" *ngIf="langugue">
                                <ion-input type="text" [(ngModel)]="product.name" ></ion-input>
                                </ion-card-subtitle>

                            </div>
                          </ion-card-header>
                          <ion-card-content>

                            <div class="productDescription">
                                <ion-card-subtitle style="text-align: center">
                                  <ion-input type="text" [(ngModel)]="product.description"></ion-input></ion-card-subtitle>
                            </div>
                            <div class="productDescription">
                              <ion-card-subtitle style="text-align: center"> {{product.id}}</ion-card-subtitle>
                          </div>

                            <div class="productPrice">
                                <ion-input type="text" [(ngModel)]="product.price" ></ion-input>
                                <ion-label>disocount</ion-label>
                                <ion-checkbox color="dark" [(ngModel)]="product.discount"></ion-checkbox>
                                <ion-input type="text" [(ngModel)]="product.discountPrice" >discount</ion-input>
                                <ion-input type="text" [(ngModel)]="product.offerQuntityLeft" >qua left offer</ion-input>
                                <ion-label>Qlef</ion-label>

                                <ion-checkbox color="dark" [(ngModel)]="product.quaLeft"></ion-checkbox><br>
                                <ion-label>OFS</ion-label>

                                <ion-checkbox color="dark" [(ngModel)]="product.outOfStock"></ion-checkbox><br>
                               <ion-input type="text" [(ngModel)]="product.wholesalePrice">wholep</ion-input><br>

                               <ion-label>inOfferArray</ion-label>
                               <ion-checkbox color="dark" [(ngModel)]="product.inOfferArray"></ion-checkbox><br>

                               <ion-label>OfferDate</ion-label>
                               <ion-input type="text" [(ngModel)]="product.offerDate" >offerDate</ion-input>

                               <ion-label>{{product.price/product.wholesalePrice}}</ion-label>





                                <hr *ngIf="product.discount">
                            </div>
                            <div *ngIf="product.discount" class="productPriceDiscount">
                              <ion-card-subtitle style="text-align: center" >{{product.discountPrice}} JD </ion-card-subtitle>
                          </div>
                          <div *ngIf="!product.discount" class="productPriceDiscountGap">
                            <ion-card-subtitle style="text-align: center; width:10px; height: 10px;;" > </ion-card-subtitle>
                        </div>
                            <ion-input type="number"  [id] ="['qua' + index + index1]"  ngModel  #quantity="ngModel" [ngModel] = "quan" min=1 max=9></ion-input>

                            <ion-button *ngIf="!langugue" color="primary" (click)= update(product)>
                                add
                              </ion-button>

                              <ion-button *ngIf="langugue" color="primary" (click)= update(product)>
                                  تعديل
                              </ion-button>

                              <ion-button *ngIf="langugue" color="primary" (click)= addToOffers(product)>
                                  اضف/ازالة الى العروض
                              </ion-button>

                                <ion-button *ngIf="langugue" color="primary" (click)= delete(product)>
                                  delete
                                </ion-button>


                            </ion-card-content>
                        </ion-card>
                    </ion-col>
                </ion-row>
              </div>
      </div>




  </ion-content>




