{"ast":null,"code":"import { __awaiter } from \"tslib\";\nimport firebase from 'firebase/compat/app';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@ionic/angular\";\nimport * as i2 from \"@angular/fire/compat/auth\";\nimport * as i3 from \"@angular/common/http\";\nimport * as i4 from \"src/app/menu-service.service\";\nexport let NumberConfirmationModalComponent = /*#__PURE__*/(() => {\n  class NumberConfirmationModalComponent {\n    constructor(alertCtrl, modalCtrl, firebasee, httpClinet, menuService) {\n      this.alertCtrl = alertCtrl;\n      this.modalCtrl = modalCtrl;\n      this.firebasee = firebasee;\n      this.httpClinet = httpClinet;\n      this.menuService = menuService;\n      this.firebasecalled = true;\n      this.name = 12;\n    }\n\n    ngOnInit() {\n      // if(this.firebasecalled){\n      // firebase.initializeApp(environment.firebaseConfig);\n      // this.firebasecalled = false;\n      // }\n      this.appVerifier = new firebase.auth.RecaptchaVerifier(\"recaptcha-container\", {\n        size: \"invisible\",\n        'callback': response => {// reCAPTCHA solved, allow signInWithPhoneNumber.\n          //console.log(\"call\");\n          //this.signInWithNumber();\n        }\n      });\n      this.firebasee.signInWithPhoneNumber('+962799702071', this.appVerifier).then(confirmationResult => __awaiter(this, void 0, void 0, function* () {\n        // SMS sent. Prompt user to type the code from the message, then sign the\n        // user in with confirmationResult.confirm(code).\n        //console.log(\"done\");\n        let prompt = yield this.alertCtrl.create({\n          header: 'Enter',\n          inputs: [{\n            name: 'confirmationCode',\n            placeholder: 'Confirmation Code'\n          }],\n          buttons: [{\n            text: 'Cancel',\n            handler: data => {\n              console.log('Cancel clicked');\n            }\n          }, {\n            text: 'Send',\n            handler: data => {\n              confirmationResult.confirm(data.confirmationCode).then(function (result) {\n                // User signed in successfully.\n                console.log(result.user); // ...\n              }).catch(function (error) {\n                console.log(error); // ...\n              });\n            }\n          }]\n        });\n        yield prompt.present();\n      })).catch(error => {\n        console.log(\"error\"); // Error; SMS not sent\n        // ...\n      });\n    }\n\n    sendmsg() {\n      console.log(this.name);\n    }\n\n    dismiss() {\n      this.modalCtrl.dismiss();\n    }\n\n  }\n\n  NumberConfirmationModalComponent.ɵfac = function NumberConfirmationModalComponent_Factory(t) {\n    return new (t || NumberConfirmationModalComponent)(i0.ɵɵdirectiveInject(i1.AlertController), i0.ɵɵdirectiveInject(i1.ModalController), i0.ɵɵdirectiveInject(i2.AngularFireAuth), i0.ɵɵdirectiveInject(i3.HttpClient), i0.ɵɵdirectiveInject(i4.MenuServiceService));\n  };\n\n  NumberConfirmationModalComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: NumberConfirmationModalComponent,\n    selectors: [[\"app-number-confirmation-modal\"]],\n    decls: 0,\n    vars: 0,\n    template: function NumberConfirmationModalComponent_Template(rf, ctx) {},\n    styles: [\"\"]\n  });\n  return NumberConfirmationModalComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}