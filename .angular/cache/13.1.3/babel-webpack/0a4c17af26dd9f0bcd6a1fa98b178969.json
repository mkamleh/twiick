{"ast":null,"code":"import { tap, map } from 'rxjs/operators';\nimport { Product } from './product.model';\nimport { BehaviorSubject } from 'rxjs';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nimport * as i2 from \"./menu-service.service\"; // interface arabicCat{\n//   arabicName: string;\n//   englishName: string;\n// }\n\nexport let CatagoriesService = /*#__PURE__*/(() => {\n  class CatagoriesService {\n    //arabic:arabicCat = {arabicName: \"hi\", englishName:\"hi\"};\n    //private catagoriesAndSubcatories\n    constructor(http, menuService) {\n      this.http = http;\n      this.menuService = menuService;\n      this._products = new BehaviorSubject([]);\n      this.products = [{\n        description: '1',\n        name: 'milk',\n        picture: 'ggg',\n        price: 2,\n        catagory: 'drinks',\n        subcatagory: 'juices '\n      }, {\n        description: '1',\n        name: 'milk',\n        picture: 'ggg',\n        price: 2,\n        catagory: 'cleaners',\n        subcatagory: 'house '\n      }, {\n        description: '1',\n        name: 'milk',\n        picture: 'ggg',\n        price: 2,\n        catagory: 'choclate',\n        subcatagory: 'liquid '\n      }, {\n        description: '1',\n        name: 'milk',\n        picture: 'ggg',\n        price: 2,\n        catagory: 'babies',\n        subcatagory: '4-6 '\n      }, {\n        description: '1',\n        name: 'milk',\n        picture: 'ggg',\n        price: 2,\n        catagory: 'cans',\n        subcatagory: 'tuna '\n      }, {\n        description: '1',\n        name: 'milk',\n        picture: 'ggg',\n        price: 2,\n        catagory: 'rice',\n        subcatagory: 'seeds '\n      }, {\n        description: '1',\n        name: 'milk',\n        picture: 'ggg',\n        price: 2,\n        catagory: 'choclate',\n        subcatagory: 'solid '\n      }, {\n        description: '2',\n        name: 'bread',\n        picture: 'ggg',\n        price: 2,\n        catagory: 'choclate',\n        subcatagory: ' gas'\n      }, {\n        description: '3',\n        name: 'drink',\n        picture: 'ggg',\n        price: 2,\n        catagory: 'choclate',\n        subcatagory: 'plasma '\n      }, {\n        description: '4',\n        name: 'baby',\n        picture: 'ggg',\n        price: 2,\n        catagory: 'babies',\n        subcatagory: ' old'\n      }, {\n        description: '5',\n        name: 'cleaners',\n        picture: 'g',\n        price: 2,\n        catagory: 'babies',\n        subcatagory: ' vey old'\n      }, {\n        description: '6',\n        name: 'others',\n        picture: 'ggg',\n        price: 2,\n        catagory: 'cans',\n        subcatagory: ' non-sea'\n      }];\n      this.catagories = []; // private arabicCat: arabicCat[] = [];\n\n      this.productsforEachCatagory = [];\n      this.sub = this.menuService.getLangugue().subscribe(data => {\n        this.langugue = data;\n      });\n    }\n\n    updateProduct(product) {\n      let linkk = null;\n\n      if (this.langugue == false) {\n        linkk = `https://twiick-default-rtdb.firebaseio.com/products/k/-MYEO4zWv2-aHjxujufO/${product.id}.json`;\n      } else {\n        linkk = `https://twiick-default-rtdb.firebaseio.com/products/k/arabicNewNew/${product.id}.json`;\n      }\n\n      return this.http.put(linkk, product);\n    }\n\n    addProduct(product) {\n      let linkk = null;\n\n      if (this.langugue == false) {\n        linkk = `https://twiick-default-rtdb.firebaseio.com/products/k/-MYEO4zWv2-aHjxujufO/${product.id}.json`;\n      } else {\n        linkk = `https://twiick-default-rtdb.firebaseio.com/products/k/arabicNewNew.json`;\n      }\n\n      return this.http.put(linkk, product);\n    }\n\n    fetchProducts() {\n      this.catagories = [];\n      let linkk = null;\n\n      if (this.langugue == false) {\n        linkk = 'https://twiick-default-rtdb.firebaseio.com/products/k/-MYEO4zWv2-aHjxujufO.json';\n      } else {\n        linkk = 'https://twiick-default-rtdb.firebaseio.com/products/k/arabicNewNew.json';\n      } //console.log(\"1\")\n\n\n      return this.http.get(linkk).pipe(map(data => {\n        const products = [];\n\n        for (const key in data) {\n          if (data.hasOwnProperty(key)) {\n            //for(const key in data){\n            //if(data.hasOwnProperty(key)){\n            if (data[key] !== null) {\n              this.catagories.push(data[key].catagory);\n              products.push(new Product(key, data[key].name, data[key].description, data[key].price, data[key].catagory, data[key].subcatagory, data[key].picture, data[key].discount, data[key].discountPrice, data[key].offerQuntityLeft, data[key].quaLeft, data[key].outOfStock, 0, data[key].wholesalePrice, data[key].offerDate));\n            } //}\n            //}\n\n          }\n        } // console.log(products,\"productd frtch\");\n\n\n        return products;\n      }), tap(products => {\n        //console.log(this.catagories);\n        //console.log('inside');\n        this._products.next(products);\n      })); //return [...this.Catagories];\n    }\n\n    getCatagories() {\n      return [...new Set(this.catagories)]; //return [...this.catagories];\n    }\n\n    getProducts() {\n      //this.fetchProducts ();\n      return this._products.asObservable();\n    }\n\n    addtodata() {\n      this.http.put('https://twiick-default-rtdb.firebaseio.com/products/-MVRtwkaxnhgHA9bX0bC.json', [...this.products]).subscribe();\n    }\n\n    getCatagoryItems(catagoryId) {\n      return Object.assign({}, this.products.find(cat => {\n        if (cat.catagory == catagoryId) {}\n      }));\n    }\n\n  }\n\n  CatagoriesService.ɵfac = function CatagoriesService_Factory(t) {\n    return new (t || CatagoriesService)(i0.ɵɵinject(i1.HttpClient), i0.ɵɵinject(i2.MenuServiceService));\n  };\n\n  CatagoriesService.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n    token: CatagoriesService,\n    factory: CatagoriesService.ɵfac,\n    providedIn: 'root'\n  });\n  return CatagoriesService;\n})();","map":null,"metadata":{},"sourceType":"module"}